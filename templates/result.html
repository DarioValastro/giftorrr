<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/static/vendor/boostrap/jquery/jquery.slim.min.js"><\/script>')</script>
<script src="/static/vendor/bootstrap/js/bootstrap.bundle.js"></script>
{% include 'module/head.html' %}
{% include 'module/social_bar.html' %}
    <style type="text/css">


        #myDivTransparent{
            display: none;
        }

        #myDivVisible{
            display: block;
        }


        .rating{
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%) rotateY(180deg);
            display: flex;

        }

        .rating input{
            display: none;
        }

        .rating label{
            display: block;
            cursor: pointer;
            width: 50px;
            background: #ccc;

        }

        .rating label:before {
             content: '\f005';
             font-family: fontAwesome;
             position: relative;
             display: block;
             font-size: 50px;
             color: #101010;

        }
        .rating label:after {
             content: '\f005';
             font-family: fontAwesome;
             position: absolute;
             display: block;
             font-size: 50px;
             color: #ffd438;
             top: 0;
             opacity: 0;
             transition: .5s;
             text-shadow: 0 2px 5px rgba(0,0,0,.5);

        }

        .rating label:hover:after, .rating label:hover~label:after ,.rating input:checked ~ label:after{
            opacity: 1;
        }

    </style>
    <script>
    function showPositiveFeedback() {
      document.getElementById("myDivPositiveFeedback").style.display = "block";
      document.getElementById("myDivNegativeFeedback").style.display = "none";
      document.getElementById("myDivButtonFeedBack").style.display = "none";
      }

      function showNegativeFeedback() {
      document.getElementById("myDivNegativeFeedback").style.display = "block";
      document.getElementById("myDivPositiveFeedback").style.display = "none";
      document.getElementById("myDivButtonFeedBack").style.display = "none";
      }
    </script>


<body class="text-center" style="background-image: url(/static/img/sfondo_home_prova2.jpg);
            background-size: cover;
            background-attachment: fixed;
            background-position: center;">

{% include 'module/navbar.html' %}


<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">

              <main role="main" class="inner cover" style="font-size: 135%">
                  <br><br>
                  <h1>A perfect gift might be:</h1>
                 <div class="container">
                  <div class="row">
                    <div class="col-sm">
                      <h1 class="cover-heading"> <br> {{ rank[0].getName() }} </h1>

                    </div>
                    <div class="col-sm" style="align-self: center">
                        <p>You can see this gift from this  <br><a href="{{ rank[0].getUrl() }}" target="_blank">link</a></p>
                    </div>
                    <div class="col-sm" style="align-self: center;">
                      <img src="{{ rank[0].getPic()}}" class="img-fluid" style="margin-left: 30px; border-radius: 50%; max-width: 100%;height: auto;" alt="Responsive image">

                    </div>
                  </div>
                </div>
              <br>
              <!-- TODO responsiveness -->
                <form action = "http://127.0.0.1:5000/result" method = "post">
                        {{ formFeedback.csrf }}
                        {{ formFeedback.hidden_tag() }}
                         <div class="container" id="{% if feedback_done %}{{ "myDivTransparent" }}{% else %}{{ "myDivVisible" }}{% endif %}">
                                <div class="rating" style="align-self: center">
                                    <input type="radio" name="feedback" id="star1" value="5">
                                    <label for="star1"></label>

                                    <input type="radio" name="feedback" id="star2" value="4">
                                    <label for="star2"></label>

                                    <input type="radio" name="feedback" id="star3" value="3">
                                    <label for="star3"></label>

                                    <input type="radio" name="feedback" id="star4" value="2">
                                    <label for="star4"></label>

                                    <input type="radio" name="feedback" id="star5" value="1">
                                    <label for="star5"></label>
                                </div>
                              <a href="{{ url_for('result') }}"  role="button"> {{ formFeedback.finish(class='btn btn-danger')  }}</a>

                        </div>
                 </form>
                  <br>

              <div id="{% if feedback_done %}{{ "myDivVisible" }}{% else %}{{ "myDivTransparent" }}{% endif %}">
                <h2>&#128522; Other wonderful gifts:</h2>
                  <div class="container">
                      <div class="row">
                        <div class="col-sm">
                          <h1 class="cover-heading"> <br> {{ rank[1].getName() }} </h1>

                        </div>
                        <div class="col-sm" style="align-self: center">
                           <br>  <p>You can see this gift from this  <br><a href="{{ rank[1].getUrl() }}" target="_blank">link</a></p>
                        </div>
                        <div class="col-sm" style="align-self: center;">
                          <br> <img src="{{ rank[1].getPic()}}" class="img-fluid" style="margin-left: 30px; border-radius: 50%; max-width: 100%;height: auto;" alt="Responsive image">
                        </div>
                      </div>
                  </div>
                  <div class="container">
                      <div class="row">
                        <div class="col-sm">
                          <h1 class="cover-heading"> <br> {{ rank[-1].getName() }} </h1>

                        </div>
                        <div class="col-sm" style="align-self: center">
                           <br>  <p>You can see this gift from this  <br><a href="{{ rank[-1].getUrl() }}" target="_blank">link</a></p>
                        </div>
                        <div class="col-sm" style="align-self: center;">
                          <br>  <img src="{{ rank[-1].getPic()}}" class="img-fluid" style="margin-left: 30px; border-radius: 50%; max-width: 100%;height: auto;" alt="Responsive image">
                        </div>
                      </div>
                  </div>
              </div>
    </main>

    {% include 'module/footer.html' %}
     </div>

</body>
